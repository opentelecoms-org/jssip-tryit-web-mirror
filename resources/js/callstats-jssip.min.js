/*
 * callstats-jssip v1.0.0
 * JsSIP interface to callstats.io
 * Copyright: 2016-2016 IÃ±aki Baz Castillo <inaki@nimblea.pe> at Nimble Ape LTD (https://nimblea.pe)
 * License: UNLICENSED
 */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.callstatsjssip=e()}}(function(){return function e(t,n,r){function o(s,c){if(!n[s]){if(!t[s]){var a="function"==typeof require&&require;if(!c&&a)return a(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[s]={exports:{}};t[s][0].call(f.exports,function(e){var n=t[s][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/helpers/classCallCheck"),i=r(o),s=e("babel-runtime/helpers/createClass"),c=r(s),a=e("debug"),u="callstats-jssip",f=function(){function e(t){(0,i.default)(this,e),t?(this._debug=a(u+":"+t),this._warn=a(u+":WARN:"+t),this._error=a(u+":ERROR:"+t)):(this._debug=a(u),this._warn=a(u+":WARN"),this._error=a(u+":ERROR")),this._debug.log=console.info.bind(console),this._warn.log=console.warn.bind(console),this._error.log=console.error.bind(console)}return(0,c.default)(e,[{key:"debug",get:function(){return this._debug}},{key:"warn",get:function(){return this._warn}},{key:"error",get:function(){return this._error}}]),e}();t.exports=f},{"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8,debug:77}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=e("babel-runtime/helpers/classCallCheck"),i=r(o),s=e("babel-runtime/helpers/createClass"),c=r(s),a=e("./Logger"),u=new a("SessionHandler"),f=function(){function e(t,n,r){var o=this;(0,i.default)(this,e),u.debug("constructor()"),this._session=t,this._conferenceID=n,this._callstats=r,this._peerconnection=t.connection,this._callstats.addNewFabric(this._peerconnection,{userName:this._session.remote_identity.display_name,aliasName:this._session.remote_identity.uri.toString()},this._callstats.fabricUsage.multiplex,this._conferenceID,function(e,t){"success"===e?u.debug("pcCallback success: %s",t):u.warn("pcCallback %s: %s",e,t)}),this._session.on("getusermediafailed",function(e){u.warn('session "getusermediafailed" event [error:%o]',e),o._reportError(o._callstats.webRTCFunctions.getUserMedia,e)}),this._session.on("peerconnection:createofferfailed",function(e){u.warn('session "peerconnection:createofferfailed" event [error:%o]',e),o._reportError(o._callstats.webRTCFunctions.createOffer,e)}),this._session.on("peerconnection:createanswerfailed",function(e){u.warn('session "peerconnection:createanswerfailed" event [error:%o]',e),o._reportError(o._callstats.webRTCFunctions.createOffer,e)}),this._session.on("peerconnection:setlocaldescriptionfailed",function(e){u.warn('session "peerconnection:setlocaldescriptionfailed" event [error:%o]',e),o._reportError(o._callstats.webRTCFunctions.setLocalDescription,e)}),this._session.on("peerconnection:setremotedescriptionfailed",function(e){u.warn('session "peerconnection:setremotedescriptionfailed" event [error:%o]',e),o._reportError(o._callstats.webRTCFunctions.setRemoteDescription,e)}),this._session.on("failed",function(e){o._sendFabricEvent(o._callstats.fabricEvent.fabricTerminated),o._mayReportSignalingError("failed",e.cause)}),this._session.on("ended",function(e){o._sendFabricEvent(o._callstats.fabricEvent.fabricTerminated),o._mayReportSignalingError("ended",e.cause)}),this._session.on("hold",function(e){"local"!==e.originator||o._session.isOnHold().remote?"remote"!==e.originator||o._session.isOnHold().local||o._sendFabricEvent(o._callstats.fabricEvent.fabricHold):o._sendFabricEvent(o._callstats.fabricEvent.fabricHold)}),this._session.on("unhold",function(e){"local"!==e.originator||o._session.isOnHold().remote?"remote"!==e.originator||o._session.isOnHold().local||o._sendFabricEvent(o._callstats.fabricEvent.fabricResume):o._sendFabricEvent(o._callstats.fabricEvent.fabricResume)}),this._session.on("muted",function(e){e.audio&&o._sendFabricEvent(o._callstats.fabricEvent.audioMute),e.video&&o._sendFabricEvent(o._callstats.fabricEvent.videoPause)}),this._session.on("unmuted",function(e){e.audio&&o._sendFabricEvent(o._callstats.fabricEvent.audioUnmute),e.video&&o._sendFabricEvent(o._callstats.fabricEvent.videoResume)})}return(0,c.default)(e,[{key:"associateMstWithUserID",value:function(e,t,n,r){u.debug("associatedVideoTag()"),this._callstats.associateMstWithUserID(this._peerconnection,e,this._conferenceID,t,n,r)}},{key:"reportUserIDChange",value:function(e,t){u.debug("reportUserIDChange()"),this._callstats.reportUserIDChange(this._peerconnection,this._conferenceID,e,t)}},{key:"sendUserFeedback",value:function(e,t){u.debug("sendUserFeedback()"),this._callstats.sendUserFeedback(this._conferenceID,e,t)}},{key:"_sendFabricEvent",value:function(e){u.debug("_sendFabricEvent() [fabricEvent:%s]",e),this._callstats.sendFabricEvent(this._peerconnection,e,this._conferenceID)}},{key:"_reportError",value:function(e,t){e===this._callstats.webRTCFunctions.applicationLog?u.debug('reportError() [wrtcFuncName:%s, msg:"%s"]',e,t):u.warn("reportError() [wrtcFuncName:%s, error:%o]",e,t),this._callstats.reportError(this._peerconnection,this._conferenceID,e,t,this._peerconnection.localDescription?this._peerconnection.localDescription.sdp:null,this._peerconnection.remoteDescription?this._peerconnection.remoteDescription.sdp:null)}},{key:"_mayReportSignalingError",value:function(e,t){var n=this._session.causes;switch(t){case n.BYE:case n.CANCELED:case n.NO_ANSWER:case n.EXPIRES:case n.BUSY:case n.REJECTED:case n.REDIRECTED:case n.UNAVAILABLE:case n.NOT_FOUND:case n.ADDRESS_INCOMPLETE:case n.AUTHENTICATION_ERROR:var r="call "+e+": "+t;this._reportError(this._callstats.webRTCFunctions.applicationLog,r);break;default:var o=new Error("call "+e+": "+t);this._reportError(this._callstats.webRTCFunctions.signalingError,o)}}},{key:"callstats",get:function(){return this._callstats}}]),e}();t.exports=f},{"./Logger":1,"babel-runtime/helpers/classCallCheck":7,"babel-runtime/helpers/createClass":8}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n,r,o,i,c){if(u.debug('handle() [AppID:"%s"]',t),f=f||window.callstats,"function"!=typeof f)throw new TypeError("callstatsModule not found");if("object"!==("undefined"==typeof e?"undefined":(0,s.default)(e)))throw new TypeError("ua argument must be a JsSIP.UA instance");r||(r={userName:e.configuration.display_name,aliasName:e.configuration.uri.toString()}),o||(o=function(e,t){"success"===e?u.debug("csInitCallback success: %s",t):u.warn("csInitCallback %s: %s",e,t)});var l=f();l.initialize(t,n,r,o,i,c),e.on("newRTCSession",function(e){var t=e.session,n=e.request;t.on("connecting",function(){var e=t.data.conferenceID||n.getHeader("Call-ID"),r=new a(t,e,l);t.data.callstatsSessionHandler=r})})}var i=e("babel-runtime/helpers/typeof"),s=r(i),c=e("./Logger"),a=e("./SessionHandler"),u=new c,f=void 0;o.setCallstatsModule=function(e){u.debug("setCallstatsModule()"),f=e},t.exports=o},{"./Logger":1,"./SessionHandler":2,"babel-runtime/helpers/typeof":9}],4:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":10}],5:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":11}],6:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":12}],7:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],8:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("../core-js/object/define-property"),i=r(o);n.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},{"../core-js/object/define-property":4}],9:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("../core-js/symbol/iterator"),i=r(o),s=e("../core-js/symbol"),c=r(s),a="function"==typeof c.default&&"symbol"==typeof i.default?function(e){return typeof e}:function(e){return e&&"function"==typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":typeof e};n.default="function"==typeof c.default&&"symbol"===a(i.default)?function(e){return"undefined"==typeof e?"undefined":a(e)}:function(e){return e&&"function"==typeof c.default&&e.constructor===c.default&&e!==c.default.prototype?"symbol":"undefined"==typeof e?"undefined":a(e)}},{"../core-js/symbol":5,"../core-js/symbol/iterator":6}],10:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/_core":18,"../../modules/es6.object.define-property":70}],11:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/_core":18,"../../modules/es6.object.to-string":71,"../../modules/es6.symbol":73,"../../modules/es7.symbol.async-iterator":74,"../../modules/es7.symbol.observable":75}],12:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":67,"../../modules/es6.string.iterator":72,"../../modules/web.dom.iterable":76}],13:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],14:[function(e,t,n){t.exports=function(){}},{}],15:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":34}],16:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,n,s){var c,a=r(t),u=o(a.length),f=i(s,u);if(e&&n!=n){for(;u>f;)if(c=a[f++],c!=c)return!0}else for(;u>f;f++)if((e||f in a)&&a[f]===n)return e||f||0;return!e&&-1}}},{"./_to-index":59,"./_to-iobject":61,"./_to-length":62}],17:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],18:[function(e,t,n){var r=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=r)},{}],19:[function(e,t,n){var r=e("./_a-function");t.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":13}],20:[function(e,t,n){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],21:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":26}],22:[function(e,t,n){var r=e("./_is-object"),o=e("./_global").document,i=r(o)&&r(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":27,"./_is-object":34}],23:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],24:[function(e,t,n){var r=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie");t.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,c=n(e),a=i.f,u=0;c.length>u;)a.call(e,s=c[u++])&&t.push(s);return t}},{"./_object-gops":48,"./_object-keys":51,"./_object-pie":52}],25:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_ctx"),s=e("./_hide"),c="prototype",a=function(e,t,n){var u,f,l,_=e&a.F,d=e&a.G,p=e&a.S,b=e&a.P,h=e&a.B,y=e&a.W,g=d?o:o[t]||(o[t]={}),m=g[c],v=d?r:p?r[t]:(r[t]||{})[c];d&&(n=t);for(u in n)f=!_&&v&&void 0!==v[u],f&&u in g||(l=f?v[u]:n[u],g[u]=d&&"function"!=typeof v[u]?n[u]:h&&f?i(l,r):y&&v[u]==l?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[c]=e[c],t}(l):b&&"function"==typeof l?i(Function.call,l):l,b&&((g.virtual||(g.virtual={}))[u]=l,e&a.R&&m&&!m[u]&&s(m,u,l)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},{"./_core":18,"./_ctx":19,"./_global":27,"./_hide":29}],26:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],27:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],28:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],29:[function(e,t,n){var r=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_descriptors":21,"./_object-dp":43,"./_property-desc":53}],30:[function(e,t,n){t.exports=e("./_global").document&&document.documentElement},{"./_global":27}],31:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":21,"./_dom-create":22,"./_fails":26}],32:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":17}],33:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":17}],34:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],35:[function(e,t,n){"use strict";var r=e("./_object-create"),o=e("./_property-desc"),i=e("./_set-to-string-tag"),s={};e("./_hide")(s,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},{"./_hide":29,"./_object-create":42,"./_property-desc":53,"./_set-to-string-tag":55,"./_wks":68}],36:[function(e,t,n){"use strict";var r=e("./_library"),o=e("./_export"),i=e("./_redefine"),s=e("./_hide"),c=e("./_has"),a=e("./_iterators"),u=e("./_iter-create"),f=e("./_set-to-string-tag"),l=e("./_object-gpo"),_=e("./_wks")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",b="keys",h="values",y=function(){return this};t.exports=function(e,t,n,g,m,v,j){u(n,t,g);var w,x,k,E=function(e){if(!d&&e in F)return F[e];switch(e){case b:return function(){return new n(this,e)};case h:return function(){return new n(this,e)}}return function(){return new n(this,e)}},O=t+" Iterator",S=m==h,C=!1,F=e.prototype,R=F[_]||F[p]||m&&F[m],M=R||E(m),I=m?S?E("entries"):M:void 0,N="Array"==t?F.entries||R:R;if(N&&(k=l(N.call(new e)),k!==Object.prototype&&(f(k,O,!0),r||c(k,_)||s(k,_,y))),S&&R&&R.name!==h&&(C=!0,M=function(){return R.call(this)}),r&&!j||!d&&!C&&F[_]||s(F,_,M),a[t]=M,a[O]=y,m)if(w={values:S?M:E(h),keys:v?M:E(b),entries:I},j)for(x in w)x in F||i(F,x,w[x]);else o(o.P+o.F*(d||C),t,w);return w}},{"./_export":25,"./_has":28,"./_hide":29,"./_iter-create":35,"./_iterators":38,"./_library":40,"./_object-gpo":49,"./_redefine":54,"./_set-to-string-tag":55,"./_wks":68}],37:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],38:[function(e,t,n){t.exports={}},{}],39:[function(e,t,n){var r=e("./_object-keys"),o=e("./_to-iobject");t.exports=function(e,t){for(var n,i=o(e),s=r(i),c=s.length,a=0;c>a;)if(i[n=s[a++]]===t)return n}},{"./_object-keys":51,"./_to-iobject":61}],40:[function(e,t,n){t.exports=!0},{}],41:[function(e,t,n){var r=e("./_uid")("meta"),o=e("./_is-object"),i=e("./_has"),s=e("./_object-dp").f,c=0,a=Object.isExtensible||function(){return!0},u=!e("./_fails")(function(){return a(Object.preventExtensions({}))}),f=function(e){s(e,r,{value:{i:"O"+ ++c,w:{}}})},l=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!a(e))return"F";if(!t)return"E";f(e)}return e[r].i},_=function(e,t){if(!i(e,r)){if(!a(e))return!0;if(!t)return!1;f(e)}return e[r].w},d=function(e){return u&&p.NEED&&a(e)&&!i(e,r)&&f(e),e},p=t.exports={KEY:r,NEED:!1,fastKey:l,getWeak:_,onFreeze:d}},{"./_fails":26,"./_has":28,"./_is-object":34,"./_object-dp":43,"./_uid":65}],42:[function(e,t,n){var r=e("./_an-object"),o=e("./_object-dps"),i=e("./_enum-bug-keys"),s=e("./_shared-key")("IE_PROTO"),c=function(){},a="prototype",u=function(){var t,n=e("./_dom-create")("iframe"),r=i.length,o="<",s=">";for(n.style.display="none",e("./_html").appendChild(n),n.src="javascript:",t=n.contentWindow.document,t.open(),t.write(o+"script"+s+"document.F=Object"+o+"/script"+s),t.close(),u=t.F;r--;)delete u[a][i[r]];return u()};t.exports=Object.create||function(e,t){var n;return null!==e?(c[a]=r(e),n=new c,c[a]=null,n[s]=e):n=u(),void 0===t?n:o(n,t)}},{"./_an-object":15,"./_dom-create":22,"./_enum-bug-keys":23,"./_html":30,"./_object-dps":44,"./_shared-key":56}],43:[function(e,t,n){var r=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":15,"./_descriptors":21,"./_ie8-dom-define":31,"./_to-primitive":64}],44:[function(e,t,n){var r=e("./_object-dp"),o=e("./_an-object"),i=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),c=s.length,a=0;c>a;)r.f(e,n=s[a++],t[n]);return e}},{"./_an-object":15,"./_descriptors":21,"./_object-dp":43,"./_object-keys":51}],45:[function(e,t,n){var r=e("./_object-pie"),o=e("./_property-desc"),i=e("./_to-iobject"),s=e("./_to-primitive"),c=e("./_has"),a=e("./_ie8-dom-define"),u=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?u:function(e,t){if(e=i(e),t=s(t,!0),a)try{return u(e,t)}catch(e){}if(c(e,t))return o(!r.f.call(e,t),e[t])}},{"./_descriptors":21,"./_has":28,"./_ie8-dom-define":31,"./_object-pie":52,"./_property-desc":53,"./_to-iobject":61,"./_to-primitive":64}],46:[function(e,t,n){var r=e("./_to-iobject"),o=e("./_object-gopn").f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(e){return s.slice()}};t.exports.f=function(e){return s&&"[object Window]"==i.call(e)?c(e):o(r(e))}},{"./_object-gopn":47,"./_to-iobject":61}],47:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},{"./_enum-bug-keys":23,"./_object-keys-internal":50}],48:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],49:[function(e,t,n){var r=e("./_has"),o=e("./_to-object"),i=e("./_shared-key")("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},{"./_has":28,"./_shared-key":56,"./_to-object":63}],50:[function(e,t,n){var r=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,c=o(e),a=0,u=[];for(n in c)n!=s&&r(c,n)&&u.push(n);for(;t.length>a;)r(c,n=t[a++])&&(~i(u,n)||u.push(n));return u}},{"./_array-includes":16,"./_has":28,"./_shared-key":56,"./_to-iobject":61}],51:[function(e,t,n){var r=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,o)}},{"./_enum-bug-keys":23,"./_object-keys-internal":50}],52:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],53:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],54:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":29}],55:[function(e,t,n){var r=e("./_object-dp").f,o=e("./_has"),i=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},{"./_has":28,"./_object-dp":43,"./_wks":68}],56:[function(e,t,n){var r=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return r[e]||(r[e]=o(e))}},{"./_shared":57,"./_uid":65}],57:[function(e,t,n){var r=e("./_global"),o="__core-js_shared__",i=r[o]||(r[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":27}],58:[function(e,t,n){var r=e("./_to-integer"),o=e("./_defined");t.exports=function(e){return function(t,n){var i,s,c=String(o(t)),a=r(n),u=c.length;return a<0||a>=u?e?"":void 0:(i=c.charCodeAt(a),i<55296||i>56319||a+1===u||(s=c.charCodeAt(a+1))<56320||s>57343?e?c.charAt(a):i:e?c.slice(a,a+2):(i-55296<<10)+(s-56320)+65536)}}},{"./_defined":20,"./_to-integer":60}],59:[function(e,t,n){var r=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=r(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":60}],60:[function(e,t,n){var r=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:r)(e)}},{}],61:[function(e,t,n){var r=e("./_iobject"),o=e("./_defined");t.exports=function(e){return r(o(e))}},{"./_defined":20,"./_iobject":32}],62:[function(e,t,n){var r=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(r(e),9007199254740991):0}},{"./_to-integer":60}],63:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":20}],64:[function(e,t,n){var r=e("./_is-object");t.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":34}],65:[function(e,t,n){var r=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+o).toString(36))}},{}],66:[function(e,t,n){var r=e("./_global"),o=e("./_core"),i=e("./_library"),s=e("./_wks-ext"),c=e("./_object-dp").f;t.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||c(t,e,{value:s.f(e)})}},{"./_core":18,"./_global":27,"./_library":40,"./_object-dp":43,"./_wks-ext":67}],67:[function(e,t,n){n.f=e("./_wks")},{"./_wks":68}],68:[function(e,t,n){var r=e("./_shared")("wks"),o=e("./_uid"),i=e("./_global").Symbol,s="function"==typeof i,c=t.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))};c.store=r},{"./_global":27,"./_shared":57,"./_uid":65}],69:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),o=e("./_iter-step"),i=e("./_iterators"),s=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):"keys"==t?o(0,n):"values"==t?o(0,e[n]):o(0,[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":14,"./_iter-define":36,"./_iter-step":37,"./_iterators":38,"./_to-iobject":61}],70:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":21,"./_export":25,"./_object-dp":43}],71:[function(e,t,n){},{}],72:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":36,"./_string-at":58}],73:[function(e,t,n){"use strict";var r=e("./_global"),o=e("./_has"),i=e("./_descriptors"),s=e("./_export"),c=e("./_redefine"),a=e("./_meta").KEY,u=e("./_fails"),f=e("./_shared"),l=e("./_set-to-string-tag"),_=e("./_uid"),d=e("./_wks"),p=e("./_wks-ext"),b=e("./_wks-define"),h=e("./_keyof"),y=e("./_enum-keys"),g=e("./_is-array"),m=e("./_an-object"),v=e("./_to-iobject"),j=e("./_to-primitive"),w=e("./_property-desc"),x=e("./_object-create"),k=e("./_object-gopn-ext"),E=e("./_object-gopd"),O=e("./_object-dp"),S=e("./_object-keys"),C=E.f,F=O.f,R=k.f,M=r.Symbol,I=r.JSON,N=I&&I.stringify,T="prototype",D=d("_hidden"),P=d("toPrimitive"),A={}.propertyIsEnumerable,L=f("symbol-registry"),U=f("symbols"),H=f("op-symbols"),W=Object[T],J="function"==typeof M,z=r.QObject,$=!z||!z[T]||!z[T].findChild,q=i&&u(function(){return 7!=x(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=C(W,t);r&&delete W[t],F(e,t,n),r&&e!==W&&F(W,t,r)}:F,B=function(e){var t=U[e]=x(M[T]);return t._k=e,t},Y=J&&"symbol"==typeof M.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof M},G=function(e,t,n){return e===W&&G(H,t,n),m(e),t=j(t,!0),m(n),o(U,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=x(n,{enumerable:w(0,!1)})):(o(e,D)||F(e,D,w(1,{})),e[D][t]=!0),q(e,t,n)):F(e,t,n)},K=function(e,t){m(e);for(var n,r=y(t=v(t)),o=0,i=r.length;i>o;)G(e,n=r[o++],t[n]);return e},V=function(e,t){return void 0===t?x(e):K(x(e),t)},Q=function(e){var t=A.call(this,e=j(e,!0));return!(this===W&&o(U,e)&&!o(H,e))&&(!(t||!o(this,e)||!o(U,e)||o(this,D)&&this[D][e])||t)},X=function(e,t){if(e=v(e),t=j(t,!0),e!==W||!o(U,t)||o(H,t)){var n=C(e,t);return!n||!o(U,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},Z=function(e){for(var t,n=R(v(e)),r=[],i=0;n.length>i;)o(U,t=n[i++])||t==D||t==a||r.push(t);return r},ee=function(e){for(var t,n=e===W,r=R(n?H:v(e)),i=[],s=0;r.length>s;)!o(U,t=r[s++])||n&&!o(W,t)||i.push(U[t]);return i};J||(M=function(){if(this instanceof M)throw TypeError("Symbol is not a constructor!");var e=_(arguments.length>0?arguments[0]:void 0),t=function(n){this===W&&t.call(H,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),q(this,e,w(1,n))};return i&&$&&q(W,e,{configurable:!0,set:t}),B(e)},c(M[T],"toString",function(){return this._k}),E.f=X,O.f=G,e("./_object-gopn").f=k.f=Z,e("./_object-pie").f=Q,e("./_object-gops").f=ee,i&&!e("./_library")&&c(W,"propertyIsEnumerable",Q,!0),p.f=function(e){return B(d(e))}),s(s.G+s.W+s.F*!J,{Symbol:M});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)d(te[ne++]);for(var te=S(d.store),ne=0;te.length>ne;)b(te[ne++]);s(s.S+s.F*!J,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=M(e)},keyFor:function(e){if(Y(e))return h(L,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){$=!0},useSimple:function(){$=!1}}),s(s.S+s.F*!J,"Object",{create:V,defineProperty:G,defineProperties:K,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),I&&s(s.S+s.F*(!J||u(function(){var e=M();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);return t=r[1],"function"==typeof t&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!Y(t))return t}),r[1]=t,N.apply(I,r)}}}),M[T][P]||e("./_hide")(M[T],P,M[T].valueOf),l(M,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},{"./_an-object":15,"./_descriptors":21,"./_enum-keys":24,"./_export":25,"./_fails":26,"./_global":27,"./_has":28,"./_hide":29,"./_is-array":33,"./_keyof":39,"./_library":40,"./_meta":41,"./_object-create":42,"./_object-dp":43,"./_object-gopd":45,"./_object-gopn":47,"./_object-gopn-ext":46,"./_object-gops":48,"./_object-keys":51,"./_object-pie":52,"./_property-desc":53,"./_redefine":54,"./_set-to-string-tag":55,"./_shared":57,"./_to-iobject":61,"./_to-primitive":64,"./_uid":65,"./_wks":68,"./_wks-define":66,"./_wks-ext":67}],74:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":66}],75:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":66}],76:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),o=e("./_hide"),i=e("./_iterators"),s=e("./_wks")("toStringTag"),c=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],a=0;a<5;a++){var u=c[a],f=r[u],l=f&&f.prototype;l&&!l[s]&&o(l,s,u),i[u]=i.Array}},{"./_global":27,"./_hide":29,"./_iterators":38,"./_wks":68,"./es6.array.iterator":69}],77:[function(e,t,n){function r(){return"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function o(){var e=arguments,t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),!t)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var o=0,i=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(o++,"%c"===e&&(i=o))}),e.splice(i,0,r),e}function i(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(e){}}function c(){var e;try{e=n.storage.debug}catch(e){}return e}function a(){try{return window.localStorage}catch(e){}}n=t.exports=e("./debug"),n.log=i,n.formatArgs=o,n.save=s,n.load=c,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:a(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(e){return JSON.stringify(e)},n.enable(c())},{"./debug":78}],78:[function(e,t,n){function r(){return n.colors[f++%n.colors.length]}function o(e){function t(){}function o(){var e=o,t=+new Date,i=t-(u||t);e.diff=i,e.prev=u,e.curr=t,u=t,null==e.useColors&&(e.useColors=n.useColors()),null==e.color&&e.useColors&&(e.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var c=0;s[0]=s[0].replace(/%([a-z%])/g,function(t,r){if("%%"===t)return t;c++;var o=n.formatters[r];if("function"==typeof o){var i=s[c];t=o.call(e,i),s.splice(c,1),c--}return t}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(e,s));var a=o.log||n.log||console.log.bind(console);a.apply(e,s)}t.enabled=!1,o.enabled=!0;var i=n.enabled(e)?o:t;return i.namespace=e,i}function i(e){n.save(e);for(var t=(e||"").split(/[\s,]+/),r=t.length,o=0;o<r;o++)t[o]&&(e=t[o].replace(/[\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*?"),"-"===e[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))}function s(){n.enable("")}function c(e){var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1}function a(e){return e instanceof Error?e.stack||e.message:e}n=t.exports=o.debug=o,n.coerce=a,n.disable=s,n.enable=i,n.enabled=c,n.humanize=e("ms"),n.names=[],n.skips=[],n.formatters={};var u,f=0},{ms:79}],79:[function(e,t,n){function r(e){if(e=String(e),!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*f;case"hours":case"hour":case"hrs":case"hr":case"h":return n*u;case"minutes":case"minute":case"mins":case"min":case"m":return n*a;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function o(e){return e>=f?Math.round(e/f)+"d":e>=u?Math.round(e/u)+"h":e>=a?Math.round(e/a)+"m":e>=c?Math.round(e/c)+"s":e+"ms"}function i(e){return s(e,f,"day")||s(e,u,"hour")||s(e,a,"minute")||s(e,c,"second")||e+" ms";
}function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var c=1e3,a=60*c,u=60*a,f=24*u,l=365.25*f;t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return r(e);if("number"===n&&isNaN(e)===!1)return t.long?i(e):o(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}]},{},[3])(3)});